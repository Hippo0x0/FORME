# FORME iOS App 界面设计

## 设计原则

### 1. 专注模式
- 简洁的界面，减少视觉干扰
- 深色主题为主，支持浅色主题
- 大字体和舒适的阅读间距
- 渐进式功能披露

### 2. 研究导向
- 突出研究流程和工作流
- 清晰的进度可视化
- 便捷的资料管理
- 智能分析结果展示

### 3. 一致性
- 统一的视觉语言
- 标准的交互模式
- 连贯的导航体验
- 可预测的操作反馈

## 色彩方案

### 主色调
- **主色**：深蓝色 (#1A365D) - 专业、专注
- **辅助色**：青色 (#00B5AD) - 活力、创新
- **强调色**：橙色 (#F2711C) - 重要、提醒

### 中性色
- **背景色**：深灰 (#1F2937)
- **文字色**：浅灰 (#E5E7EB)
- **边框色**：中灰 (#4B5563)
- **禁用色**：深灰 (#374151)

### 状态色
- **成功**：绿色 (#10B981)
- **警告**：黄色 (#F59E0B)
- **错误**：红色 (#EF4444)
- **信息**：蓝色 (#3B82F6)

## 字体系统

### 字体家族
- **主要字体**：SF Pro Display (iOS系统字体)
- **代码字体**：SF Mono (技术内容)
- **标题字体**：SF Pro Display Bold
- **正文字体**：SF Pro Text Regular

### 字号规范
- **超大标题**：34pt (导航标题)
- **大标题**：28pt (页面标题)
- **标题**：22pt (模块标题)
- **副标题**：17pt (卡片标题)
- **正文**：15pt (主要内容)
- **小字**：13pt (辅助信息)
- **极小字**：11pt (标签、时间)

## 界面架构

### 导航结构
```
Tab Bar (底部导航)
├── 首页 (Home)
├── 研究 (Research)
├── 资料库 (Library)
├── 分析 (Analysis)
└── 我的 (Profile)
```

### 页面层级
1. **根视图**：UITabBarController
2. **主页面**：UINavigationController
3. **详情页**：模态或Push
4. **设置页**：模态展示

## 主要界面设计

### 1. 首页 (HomeViewController)

#### 布局结构
```
+-----------------------------------+
| 状态栏                            |
+-----------------------------------+
| 导航栏                            |
| [搜索框] [通知] [设置]            |
+-----------------------------------+
| 欢迎横幅                          |
| "今日研究主题"                    |
+-----------------------------------+
| 快速启动                          |
| [新建研究] [导入资料] [分析]      |
+-----------------------------------+
| 近期研究                          |
| - 研究1 [进度: 60%]              |
| - 研究2 [进度: 30%]              |
| - 研究3 [进度: 90%]              |
+-----------------------------------+
| 资料统计                          |
| 已保存: 128 | 已分析: 45         |
+-----------------------------------+
| Agent建议                         |
| "今天可以继续研究..."             |
+-----------------------------------+
| Tab Bar                           |
+-----------------------------------+
```

#### 组件说明
- **搜索框**：全局搜索入口
- **欢迎横幅**：个性化问候语
- **快速启动**：常用功能快捷入口
- **研究列表**：最近活跃的研究课题
- **统计卡片**：数据概览
- **Agent建议**：智能提示和鼓励

### 2. 研究页面 (ResearchViewController)

#### 布局结构
```
+-----------------------------------+
| 导航栏                            |
| [返回] 研究管理 [筛选] [+]        |
+-----------------------------------+
| 分段控制器                        |
| [进行中] [已完成] [已归档]        |
+-----------------------------------+
| 研究列表                          |
| ┌─────────────────────────────┐  |
| │ 研究标题                    │  |
| │ 进度条 [60%]               │  |
| │ 标签: #AI #研究            │  |
| │ 最后更新: 2小时前          │  |
| └─────────────────────────────┘  |
|                                   |
| ┌─────────────────────────────┐  |
| │ 研究标题                    │  |
| │ 进度条 [30%]               │  |
| │ 标签: #投资 #财务          │  |
| │ 最后更新: 1天前            │  |
| └─────────────────────────────┘  |
+-----------------------------------+
| Tab Bar                           |
+-----------------------------------+
```

#### 研究详情页 (ResearchDetailViewController)
```
+-----------------------------------+
| 导航栏                            |
| [返回] 研究标题 [编辑] [分享]     |
+-----------------------------------+
| 研究概览                          |
| 标题: AI研究项目                 |
| 描述: 研究AI在...               |
| 状态: 进行中                     |
| 创建时间: 2025-12-01            |
+-----------------------------------+
| 5步工作流                        |
| 1. ✅ Boost                     |
| 2. ✅ Pick Target              |
| 3. 🔄 Schedule                 |
| 4. ⏳ Work-Feedback-Loop       |
| 5. ⏳ Output-Feedback-Loop     |
+-----------------------------------+
| 关联资料                          |
| [添加资料]                       |
| - 资料1 [网页]                  |
| - 资料2 [PDF]                   |
| - 资料3 [笔记]                  |
+-----------------------------------+
| 分析结果                          |
| [运行分析]                       |
| - 洞察1                         |
| - 洞察2                         |
+-----------------------------------+
```

### 3. 资料库页面 (LibraryViewController)

#### 布局结构
```
+-----------------------------------+
| 导航栏                            |
| [返回] 资料库 [筛选] [+]         |
+-----------------------------------+
| 搜索栏                            |
| [搜索资料...]                    |
+-----------------------------------+
| 分段控制器                        |
| [全部] [网页] [文档] [图片]      |
+-----------------------------------+
| 资料网格/列表                     |
| ┌─────┐ ┌─────┐ ┌─────┐        |
| │     │ │     │ │     │        |
| │网页 │ │PDF  │ │笔记 │        |
| │     │ │     │ │     │        |
| └─────┘ └─────┘ └─────┘        |
| 标题                            |
+-----------------------------------+
| Tab Bar                           |
+-----------------------------------+
```

#### 资料详情页 (MaterialDetailViewController)
```
+-----------------------------------+
| 导航栏                            |
| [返回] 资料标题 [编辑] [分享]     |
+-----------------------------------+
| 内容区域                          |
| 标题: AI发展趋势报告             |
| 类型: 网页                        |
| URL: https://example.com        |
| 保存时间: 2025-12-15            |
+-----------------------------------+
| 标签区域                          |
| #AI #趋势 #报告                  |
| [添加标签]                       |
+-----------------------------------+
| 标注区域                          |
| [添加标注]                       |
| - 标注1: 重要观点               |
| - 标注2: 关键数据               |
+-----------------------------------+
| 关联研究                          |
| [关联到研究]                     |
| - 研究1: AI研究项目             |
| - 研究2: 技术趋势分析           |
+-----------------------------------+
| 操作按钮                          |
| [重新解析] [导出] [删除]         |
+-----------------------------------+
```

### 4. 分析页面 (AnalysisViewController)

#### 布局结构
```
+-----------------------------------+
| 导航栏                            |
| [返回] 分析中心                   |
+-----------------------------------+
| DeepSeek分析                     |
| ┌─────────────────────────────┐  |
| │ 深度理解                    │  |
| │ 使用DeepSeek深度分析资料    │  |
| └─────────────────────────────┘  |
|                                   |
| ┌─────────────────────────────┐  |
| │ 智能问答                    │  |
| │ 基于资料回答研究问题        │  |
| └─────────────────────────────┘  |
|                                   |
| ┌─────────────────────────────┐  |
| │ 关联发现                    │  |
| │ 发现资料间隐藏关联          │  |
| └─────────────────────────────┘  |
+-----------------------------------+
| 本地分析模型                      |
| ┌─────────────────────────────┐  |
| │ 文本摘要                    │  |
| │ 自动生成内容摘要            │  |
| └─────────────────────────────┘  |
|                                   |
| ┌─────────────────────────────┐  |
| │ 趋势分析                    │  |
| │ 识别时间趋势                │  |
| └─────────────────────────────┘  |
+-----------------------------------+
| API状态                          |
| DeepSeek: 已连接 ✅             |
| 本月用量: 120/1000 tokens      |
+-----------------------------------+
| Tab Bar                           |
+-----------------------------------+
```

#### 分析运行页 (AnalysisRunViewController)
```
+-----------------------------------+
| 导航栏                            |
| [返回] 深度分析 [取消]           |
+-----------------------------------+
| 分析配置                          |
| 选择资料: [选择...]              |
| 分析模型: DeepSeek深度理解       |
| API模式: [自动] [仅本地] [仅API] |
| 参数设置:                        |
|   - 分析深度: 深入               |
|   - 语言: 中文                   |
|   - 最大token: 2000              |
+-----------------------------------+
| API配置提示                       |
| 使用DeepSeek API需要配置API Key  |
| [前往设置] [使用本地模型]         |
+-----------------------------------+
| 运行状态                          |
| 🔄 正在调用DeepSeek API...       |
| 进度: 60%                        |
| 已使用: 450 tokens               |
+-----------------------------------+
| 分析结果                          |
| (分析完成后显示)                  |
| ## 深度分析结果                  |
| 本文核心观点:                   |
| 1. ...                          |
| 2. ...                          |
|                                 |
| ## 关键洞察                     |
| - 洞察1                         |
| - 洞察2                         |
+-----------------------------------+
| 操作按钮                          |
| [保存结果] [继续提问] [分享]     |
+-----------------------------------+
```

### 5. 我的页面 (ProfileViewController)

#### 布局结构
```
+-----------------------------------+
| 用户信息                          |
| ┌─────────────────────────────┐  |
| │ 头像                        │  |
| │ 用户名                      │  |
| │ 会员状态: 免费版            │  |
| └─────────────────────────────┘  |
+-----------------------------------+
| 课题分类                          |
| [阿德勒课题]                     |
| - 生活                          |
| - 工作                          |
| - 友情                          |
| - 爱情                          |
|                                   |
| [现实人生课题]                   |
| - 财务自由计划                  |
| - 长期技能                      |
| - 长期爱好                      |
| - 人生意义                      |
+-----------------------------------+
| 设置选项                          |
| - DeepSeek API设置              |
| - 账号设置                      |
| - 通知设置                      |
| - 主题设置                      |
| - 数据备份                      |
| - 帮助与反馈                    |
| - 关于FORME                     |
+-----------------------------------+
| 统计信息                          |
| 使用时长: 128小时               |
| 研究完成: 12个                  |
| 资料保存: 256个                 |
| DeepSeek用量: 1245 tokens      |
+-----------------------------------+
| Tab Bar                           |
+-----------------------------------+
```

## 交互设计

### 手势操作
- **左滑**：删除/归档
- **右滑**：完成/标记
- **长按**：进入编辑模式
- **下拉刷新**：更新数据
- **上拉加载**：加载更多

### 动画效果
- **页面切换**：淡入淡出
- **列表操作**：滑动动画
- **按钮点击**：缩放反馈
- **加载状态**：旋转指示器
- **成功提示**：轻微弹跳

### 反馈机制
- **触觉反馈**：重要操作提供触觉反馈
- **视觉反馈**：按钮状态变化
- **声音反馈**：可选的完成提示音
- **Toast提示**：操作结果提示

## 响应式设计

### 设备适配
- **iPhone**：单列布局，优化触摸区域
- **iPad**：分栏布局，利用大屏幕空间
- **横屏模式**：自适应布局调整

### 字体缩放
- 支持系统字体大小设置
- 动态调整布局间距
- 确保可读性和可用性

## 无障碍设计

### 视觉辅助
- 足够的颜色对比度
- 可调整的字体大小
- 支持粗体文本
- 减少运动效果选项

### 交互辅助
- VoiceOver支持
- Switch Control兼容
- 键盘导航支持
- 辅助功能标签

## 设计资源

### 图标系统
- SF Symbols系统图标
- 自定义功能图标
- 状态指示图标
- 操作按钮图标

### 组件库
- 按钮组件：主按钮、次按钮、文字按钮
- 卡片组件：信息卡片、操作卡片
- 列表组件：单行、多行、可操作
- 表单组件：输入框、选择器、开关
- 提示组件：Toast、Alert、Snackbar

## DeepSeek API设置页面

### DeepSeek设置页 (DeepSeekSettingsViewController)

#### 布局结构
```
+-----------------------------------+
| 导航栏                            |
| [返回] DeepSeek API设置          |
+-----------------------------------+
| API状态                          |
| ┌─────────────────────────────┐  |
| │ 状态: 已连接 ✅              │  |
| │ 方案: 免费版                 │  |
| │ 本月用量: 1245/10000 tokens │  |
| └─────────────────────────────┘  |
+-----------------------------------+
| API配置                          |
| API Key: [*******************]   |
| [显示] [重新生成] [测试连接]     |
|                                   |
| 基础URL: https://api.deepseek.com|
| [编辑]                           |
|                                   |
| 模型选择: [deepseek-chat]        |
| [切换模型]                       |
+-----------------------------------+
| 用量控制                          |
| 每月限额: [10000] tokens         |
| 单次最大: [2000] tokens          |
| 启用用量提醒: [是]               |
| 提醒阈值: [80] %                 |
+-----------------------------------+
| 使用策略                          |
| 默认模式: [自动]                 |
| 选项: [自动] [仅本地] [仅API]    |
|                                   |
| 自动降级: [启用]                 |
| API失败时自动使用本地模型        |
+-----------------------------------+
| 操作按钮                          |
| [保存配置] [重置为默认] [断开连接]|
+-----------------------------------+
```

#### 功能说明
1. **API Key管理**：
   - 安全输入和显示
   - 测试连接功能
   - 重新生成选项

2. **用量监控**：
   - 实时用量显示
   - 限额设置
   - 用量提醒

3. **策略配置**：
   - 自动/手动模式选择
   - 失败降级策略
   - 模型选择

4. **高级设置**：
   - 自定义API端点
   - 请求超时设置
   - 重试策略

---

*最后更新：2025-12-29*